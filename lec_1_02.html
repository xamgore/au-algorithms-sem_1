<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8">
<title>Заголовок</title>
<!-- Search Engine -->
<meta name="description" content="Массив Массив -- коллекция фиксированного размера. Операции: :  O(1) :  O(1) :  O(n) :  O(n) Вектор Вектор -- саморасширяющийся массив. Под капотом хранитс">
<meta name="image" content="https://demiurg906.github.io/au-algorithms-sem_1/preview.png">
<!-- Schema.org for Google -->
<meta itemprop="name" content="Заголовок">
<meta itemprop="description" content="Массив Массив -- коллекция фиксированного размера. Операции: :  O(1) :  O(1) :  O(n) :  O(n) Вектор Вектор -- саморасширяющийся массив. Под капотом хранитс">
<meta itemprop="image" content="https://demiurg906.github.io/au-algorithms-sem_1/preview.png">
<!-- Twitter -->
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Заголовок">
<meta name="twitter:description" content="Массив Массив -- коллекция фиксированного размера. Операции: :  O(1) :  O(1) :  O(n) :  O(n) Вектор Вектор -- саморасширяющийся массив. Под капотом хранитс">
<meta name="twitter:image:src" content="https://demiurg906.github.io/au-algorithms-sem_1/preview.png">
<!-- Twitter - Article -->
<!-- Open Graph general (Facebook, Pinterest & Google+) -->
<meta property="og:title" content="Заголовок">
<meta property="og:description" content="Массив Массив -- коллекция фиксированного размера. Операции: :  O(1) :  O(1) :  O(n) :  O(n) Вектор Вектор -- саморасширяющийся массив. Под капотом хранитс">
<meta property="og:image" content="https://demiurg906.github.io/au-algorithms-sem_1/preview.png">
<meta property="og:type" content="article">
<!-- Open Graph - Article -->

<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="https://demiurg906.github.io/au-algorithms-sem_1/assets/style.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/python.min.js" integrity="sha256-MRn7pN9LOBMrkp+8F2t5xb/92V1irzXp/dl5tUTwEgE=" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github-gist.min.css" integrity="sha256-tAflq+ymku3Khs+I/WcAneIlafYgDiOQ9stIHH985Wo=" crossorigin="anonymous" />
<script src="https://demiurg906.github.io/au-algorithms-sem_1/assets/xpath.js" type="text/javascript"></script>
<script>newIssue="https://github.com/demiurg906/au-algorithms-sem_1/issues/new"</script>
<script src="https://demiurg906.github.io/au-algorithms-sem_1/assets/load.js"></script>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax:    {
    inlineMath:  [['$','$'],  ['\\(','\\)']],
    displayMath: [["$$","$$"],["\\[","\\]"]],
    displayAlign: "center"
    // processEscapes: true
  },
  CommonHTML: { linebreaks: { automatic: true } },
  "HTML-CSS": { linebreaks: { automatic: true } },
         SVG: { linebreaks: { automatic: true } }
});
</script>
<script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_CHTML">
</script>
</head>
<body>
  <div id="mistake">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 402.938 402.938"><path d="M401.785 33.437C399.28 18.683 389.61 16.48 384.07 16.48c-22.935 0-65.053 36.684-109.644 75.52-18.23 15.88-37.083 32.3-53.502 45.048-5.858 4.548-11.803 9.103-18.097 13.924-31.276 23.96-66.726 51.12-94.16 80.356-26.887 28.65-42.593 55.62-47.676 81.98L4.12 364.683c-5.122 4.628-5.523 12.532-.896 17.655 2.468 2.732 5.867 4.12 9.28 4.12 2.987 0 5.984-1.063 8.375-3.223l47.816-43.194c2.31.634 5.016.963 8.19.963 27.39 0 93.534-24.866 153.857-57.84l6.043-3.305L226.11 269.8l17.888 5.932 1.947-1.13c15.867-9.21 30.165-18.41 42.496-27.338 2.19-1.586 4.45-3.292 7.115-5.372l3.87-3.02-11.223-14.93 20.26 7.21 2.218-2.02c15.51-14.13 29.805-30.467 42.486-48.554l2.428-3.462-18.606-18.342 25.257 8.17 2.054-3.37c28.307-46.454 43.02-97.535 37.485-130.137z"/></svg>
  </div>

  <article class="content">
      

      
      <div class="navigation">
        <a href="lec_1_01.html">← взад</a>
        <a href="index.html">к оглавлению</a>
        <a href="lec_1_03.html">вперёд →</a>
      </div>
      
      <h1 id="Элементарные-структуры-данных"><a aria-hidden="true" href="#Элементарные-структуры-данных"><span class="icon icon-link"></span></a>Элементарные структуры данных</h1>
<h2 id="Массив"><a aria-hidden="true" href="#Массив"><span class="icon icon-link"></span></a>Массив</h2>
<p>Массив -- коллекция фиксированного размера. Операции:</p>
<ul>
<li><code>get(i)</code>: <span class="inlineMath">$O(1)$</span></li>
<li><code>set(i)</code>: <span class="inlineMath">$O(1)$</span></li>
<li><code>remove(i)</code>: <span class="inlineMath">$O(n)$</span></li>
<li><code>insert(i)</code>: <span class="inlineMath">$O(n)$</span></li>
</ul>
<h2 id="Вектор"><a aria-hidden="true" href="#Вектор"><span class="icon icon-link"></span></a>Вектор</h2>
<p>Вектор -- саморасширяющийся массив. Под капотом хранится массив фиксированного размера, новые элементы вставляются в конец. Когда массив заполняется, создается новый, с увеличенным размером.</p>
<p><strong>Стратегии реаллокации:</strong>
1. Аддитивная -- вместимость массива увеличивается на фиксированное <span class="inlineMath">$a$</span>. Добавление <span class="inlineMath">$n$</span> элементов: <span class="inlineMath">$a + 2a + 3a + ... + n + O(n) = O(n^2) + O(n) = O(n^2)$</span>, средняя стоимость добавления <span class="inlineMath">$\frac{O(n^2)}n = O(n)$</span> -- плохо.
2. Мультипликативная -- вместимость массива увеличивается в <span class="inlineMath">$k > 1$</span> раз. Добавление <span class="inlineMath">$n$</span> элементов: <span class="inlineMath">$n + \frac n k + \frac n {k^2} + ... = n\cdot \sum\limits_{i=0}\frac 1 {k^i} \leq n \cdot k = O(n)$</span>, средняя стоимость добавления <span class="inlineMath">$O(1)$</span> -- хорошо.</p>
<h3 id="Метод-потенциалов"><a aria-hidden="true" href="#Метод-потенциалов"><span class="icon icon-link"></span></a>Метод потенциалов</h3>
<p><i>Подробнее написано <a href="https://neerc.ifmo.ru/wiki/index.php?title=%D0%90%D0%BC%D0%BE%D1%80%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%BE%D0%BD%D0%BD%D1%8B%D0%B9_%D0%B0%D0%BD%D0%B0%D0%BB%D0%B8%D0%B7">здесь</a></i></p>
<p><span class="inlineMath">$1..n$</span> -- номера операций.</p>
<p><span class="inlineMath">$c_i$</span> -- стоимость <span class="inlineMath">$i$</span>-ой операции</p>
<p><span class="inlineMath">$\varphi_i$</span> -- потенциал после <span class="inlineMath">$i$</span>-ой операции</p>
<p><span class="inlineMath">$\varphi_n\geq \varphi_0$</span></p>
<p>Амортизированное время работы вставки в вектор:</p>
<p>Амортизированная стоимость <span class="inlineMath">$\widehat{c_i} = c_i + \varphi_i - \varphi_{i - 1} = c_i + \Delta \varphi_i$</span></p>
<p><span class="inlineMath">$c_i = \widehat{c_i} - \Delta\varphi_i$</span></p>
<p><span class="inlineMath">$\sum\limits_i c_i = \sum\limits_i \widehat{c_i} + \varphi_0 - \varphi_n = \sum\limits_i \widehat{c_i} + \Delta\varphi \leq \sum\limits_i \widehat{c_i}$</span></p>
<p>Покажем среднюю стоимость в случае, если <span class="inlineMath">$\widehat{c_i} = O(1)$</span>.</p>
<p>Пусть <span class="inlineMath">$c_i = O(n)$</span> (худший случай).
Тогда <span class="inlineMath">$\sum\limits_i c_i = O(n^2)$</span> и <span class="inlineMath">$\sum\limits_i c_i \leq \sum\limits_i \widehat{c_i} = O(n)$</span></p>
<p>Докажем, что <span class="inlineMath">$\widehat{c_i} = O(1)$</span>.</p>
<p>Пусть <span class="inlineMath">$k=2$</span>, <span class="inlineMath">$\varphi_i = 2s - l$</span>, где <span class="inlineMath">$s$</span> -- число занятых элементов в векторе, а <span class="inlineMath">$l$</span>, соответственно, размер аллоцированного массива.</p>
<ol>
<li>
<p><span class="inlineMath">$\sum c_i = \sum\widehat{c_i} + \varphi_0 - \varphi_n = 3n - 1 = O(n) \Rightarrow$</span></p>
<p><span class="inlineMath">$\varphi_0 = -1$</span></p>
<p><span class="inlineMath">$\varphi_n = 2s - l \geq 0$</span>, т.к. <span class="inlineMath">$s\geq \frac l2$</span>
И следовательно, <span class="inlineMath">$\varphi_0\leq \varphi_n$</span></p>
</li>
<li>
<ul>
<li><span class="inlineMath">$\widehat{c_i}$</span> -- добавить элемент без реаллокации
<span class="inlineMath">$\widehat{c_i} = c_i + (2s_i - l) - (2s_{i-1} - l) = 1 + 2(s_i - s_{i-1}) = 3$</span></li>
<li><span class="inlineMath">$\widehat{c_i}$</span> -- добавить элемент с реаллокацией в 2 раза
<span class="inlineMath">$\widehat{c_i} = c_i + (2s_i - 2l) - (2s_{i-1} - l) = s_i + 2 - l = s_i + 2 - s_{i-1} = 3$</span>
Таким образом, для любого <span class="inlineMath">$i$</span> <span class="inlineMath">$\widehat{c_i} = 3 = O(1)$</span>.</li>
</ul>
</li>
</ol>
<h2 id="Другие-структуры"><a aria-hidden="true" href="#Другие-структуры"><span class="icon icon-link"></span></a>Другие структуры</h2>
<p>По-хорошему, здесь надо написать про стек, очередь, дек, одно- и двусвязный списки, графы, деревья. Но это все и так очевидно, так что извините, мне лень.</p>
<p>Единственное, что стоит упомянуть, это представление "левый ребенок - правый сосед" для произвольных деревьев. В данном представлении каждая нода хранит по две ссылки -- на левого ребенка и правого соседа соответственно. Такой способ хранения просто реализовать и по нему достаточно просто итерироваться и искать элементы.</p>
<script>
var terms = {};
</script>

      
      <div class="navigation">
          <a href="lec_1_01.html">← взад</a>
          <a href="index.html">на главную</a>
          <a href="lec_1_03.html">вперёд →</a>
      </div>
      

      
  </article>
<script src="https://demiurg906.github.io/au-algorithms-sem_1/assets/popup.js"></script>
</body>
</html>